<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <title>Felix's Node.js Package Guide</title>
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link rel="stylesheet" href="css/screen.css" />
</head>
<body>
<div class="container">
<p>
  <a href="index.html">&#171; Home / All Guides</a>
</p>
<header>
<h1 class="title">Felix's Node.js Package Guide</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#important-this-guide-is-not-ready-to-yet-please-go-away.">IMPORTANT: This guide is not ready to yet, please go away.</a><ul>
<li><a href="#related-guides">Related Guides</a></li>
<li><a href="#directory-structure">Directory Structure</a></li>
<li><a href="#section"> </a></li>
<li><a href="#using-git-for-version-control">Using git for version control</a></li>
<li><a href="#editor-settings">Editor settings</a><ul>
<li><a href="#vim">Vim</a></li>
<li><a href="#textmate">TextMate</a></li>
</ul></li>
<li><a href="#publishing-to-npm">Publishing to npm</a></li>
</ul></li>
</ul>
</nav>
<h1 id="important-this-guide-is-not-ready-to-yet-please-go-away."><a href="#TOC">IMPORTANT: This guide is not ready to yet, please go away.</a></h1>
<p>There is no official way that dictates how you may structure and publish your node.js packages. This guide aims to provide you with an oppinionated set of conventions based on popular choices within the node.js community.</p>
<h2 id="related-guides"><a href="#TOC">Related Guides</a></h2>
<ul>
<li>Felix's Node.js Beginner's Guide - If you are new to node.js</li>
<li>Felix's Node.js Style Guide^ - If you want your code to look nice</li>
<li>Felix's Node.js Object Oriented Programming Guide^ - If you care about well-structured software</li>
<li>Felix's Node.js Test Driven Development Guide^ - If you want to use test driven development</li>
</ul>
<h2 id="directory-structure"><a href="#TOC">Directory Structure</a></h2>
<p>You can basically structure your packages any way you want, but here is a good set of conventions that will allow you to do so consistently.</p>
<p>Let's assume you want to create a simple package called '' that provides you with basic mathematical functions concerning 2D structures:</p>
<p>package.json node_modules/   geometry/     index.js     circle.js     point.js     square.js     triangle.js test/   micro/     test-circle.js     test-square.js     test-point.js     test-triangle.js   integration/   system/</p>
<p>To explain: Your main package goes into the 'node_modules' folder, the same place where npm will bundle any dependencies your package may have. Since node's module system recognizes this folder, you can do <code>require('geometry/circle')</code> from any JavaScript file within your module, without expicitely having to provide the path for it.</p>
<p>For more information on the contens of the 'test' folder, please visit my Test Driven Development Guide^.</p>
<h2 id="section"><a href="#TOC"> </a></h2>
<h2 id="using-git-for-version-control"><a href="#TOC">Using git for version control</a></h2>
<p>Most people in the node.js community use Git^ / GitHub^ to manage and publish their source code. If you are using Git, you probably want to exclude your dependencies from showing up in your git repository. In order to do so, create a '.gitignore' file with the following content in your packages root directory:</p>
<p>/node_modules/* !/node_modules/geometry/*</p>
<p>This will ignore everything in your 'node_modules' folder, except your package (which in this case is named 'geometry').</p>
<h2 id="editor-settings"><a href="#TOC">Editor settings</a></h2>
<p>You probably want to configure your editor to ignore anything except your main module in the 'node_modules' folder when searching through files. Here are the instructions on how to do so for a few choosen editors:</p>
<h3 id="vim"><a href="#TOC">Vim</a></h3>
<p>^todo</p>
<h3 id="textmate"><a href="#TOC">TextMate</a></h3>
<p>^todo</p>
<h2 id="publishing-to-npm"><a href="#TOC">Publishing to npm</a></h2>
<p>Npm^ is the de-facto package manager used by the node community, and the Beginner's Guide^ includes instructions on how to install it.</p>
<p>In order to publish a package, you need to create a user account like so:</p>
<p>npm adduser <your-username> ^todo: Check if this is the correct syntax</p>
  <div class="copyright">
  © 2011, <a href="http://debuggable.com/">Debuggable Limited</a>.
  </div>
</div>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3306079-11']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
